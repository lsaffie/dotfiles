# Configs
config defaultToCurrentScreen true
config nudgePercentOf screenSize
config resizePercentOf screenSize
config secondsBetweenRepeat 0.1
config checkDefaultsOnLoad true
config focusCheckWidthMax 3000

# Monitor Aliases
alias screen-0  0
alias screen-1  1

# Position Aliases
alias 1-main  move screenOriginX;screenOriginY               screenSizeX;screenSizeY     ${screen-0}
alias 1-l  move screenOriginX;screenOriginY                  screenSizeX/2;screenSizeY   ${screen-0}
alias 1-top-l  move screenOriginX;screenOriginY              screenSizeX/2;screenSizeY/2 ${screen-0}
alias 1-r move screenOriginX+screenSizeX/2;screenOriginY     screenSizeX/2;screenSizeY   ${screen-0}

alias 2-main  move   screenOriginX;screenOriginY                              screenSizeX;screenSizeY     ${screen-0}
alias 2-l  move   screenOriginX;screenOriginY                                 screenSizeX/2;screenSizeY   ${screen-1}
alias 2-r move   screenOriginX+screenSizeX/2;screenOriginY                    screenSizeX/2;screenSizeY   ${screen-1}
alias 2-top-l     move screenOriginX;screenOriginY                            screenSizeX/2;screenSizeY/2 ${screen-1}
alias 2-top-r    move screenOriginX+screenSizeX/2;screenOriginY               screenSizeX/2;screenSizeY/2 ${screen-1}
alias 2-bottom-l  move screenOriginX;screenOriginY+screenSizeY/2              screenSizeX/2;screenSizeY/2 ${screen-1}
alias 2-bottom-r move screenOriginX+screenSizeX/2;screenOriginY+screenSizeY/2 screenSizeX/2;screenSizeY/2 ${screen-1}

alias 3-top-l     move screenOriginX;screenOriginY                               screenSizeX/3;screenSizeY/2 ${screen-1}
alias 3-top-m     move screenOriginX+screenSizeX/3;screenOriginY                 screenSizeX/3;screenSizeY/2 ${screen-1}
alias 3-top-r     move screenOriginX+screenSizeX/3*2;screenOriginY               screenSizeX/3;screenSizeY/2 ${screen-1}
alias 3-main      move screenOriginX;screenOriginY                               screenSizeX;screenSizeY ${screen-1}
alias 3-bottom-l  move screenOriginX;screenOriginY+screenSizeY/2                 screenSizeX/3;screenSizeY/2 ${screen-1}
alias 3-bottom-m  move screenOriginX+screenSizeX/3;screenOriginY+screenSizeY/2   screenSizeX/3;screenSizeY/2 ${screen-1}
alias 3-bottom-r  move screenOriginX+screenSizeX/3*2;screenOriginY+screenSizeY/2 screenSizeX/3;screenSizeY/2 ${screen-1}

# 1 Monitor layout
layout 1monitor 'iTerm':SORT_TITLE                 ${1-main}
layout 1monitor 'Google Chrome':REPEAT             ${1-main}
layout 1monitor 'Evernote':REPEAT                  ${1-main}

# 2 Monitor layout
layout 2monitors 'Evernote':REPEAT                 ${1-main}
layout 2monitors 'Slack':REPEAT                    ${1-main}
layout 2monitors 'ical':REPEAT                     ${1-main}
layout 2monitors 'iTerm2':REPEAT                   ${1-main}
#layout 2monitors 'Quip':MAIN_FIRST                 ${2-bottom-r}
layout 2monitors 'Google Chrome':TITLE_ORDER_REGEX="(- Wealthsimple Mail - |Inbox | Luis Saffie Mail | SoundCloud)";"Trello |Tasks -|Reading -";"Calendar";"Quip" ${2-top-l} | ${2-top-r} | ${2-bottom-l} | ${2-bottom-r}

layout 3monitors 'Slack':REPEAT                    ${1-main}
layout 3monitors 'Calendar':REPEAT                 ${1-top-l}
layout 3monitors 'Google Chrome':MAIN_FIRST        ${2-l} | ${2-r}
layout 3monitors 'iTerm2':REPEAT                   ${3-main}
layout 3monitors 'Google Chrome':TITLE_ORDER_REGEX="(- Wealthsimple Mail - |Inbox | Luis Saffie Mail | SoundCloud)";"Trello |Tasks -|Reading -";"Calendar" ${2-l} | ${2-r}

###########
# TV Layout
###########
#
layout tv 'Slack':REPEAT                           ${3-bottom-r}
layout tv 'iTerm2':REPEAT                          ${3-bottom-m}
layout tv 'Google Chrome':TITLE_ORDER_REGEX="(- Wealthsimple Mail - |Inbox | Luis Saffie Mail | SoundCloud)";"Trello |Tasks -|Reading -";"Calendar";"Quip";"data";"youtube.com" ${3-top-l} | ${3-top-m} | ${3-top-r} | ${3-bottom-r} | ${3-bottom-l} | ${1-main}
#
###########

default 1monitor count:1
default 2monitor count:2
default 3monitor count:3

# Basic location Bindings
bind pad0:ctrl ${1-main}
bind [:ctrl    ${1-main}
bind pad.:ctrl ${1-main}
bind ]:ctrl    ${1-main}
bind pad4:ctrl ${2-l}
bind pad6:ctrl ${2-r}

# Resize Bindings
# NOTE: some of these may *not* work if you have not removed the expose/spaces/mission control bindings
bind right:ctrl resize +10% +0
bind left:ctrl  resize -10% +0
bind up:ctrl    resize +0   -10%
bind down:ctrl  resize +0   +10%

# Push Bindings
bind k:ctrl;cmd push up    bar-resize:screenSizeX
bind l:ctrl;cmd push right bar-resize:screenSizeX/2
bind h:ctrl;cmd push left  bar-resize:screenSizeX/2

##################################
### 2 horizontal layout for TV ###
##################################
#
## UP
bind k:ctrl;alt;cmd move windowTopLeftX;screenOriginY screenSizeX/2;screenSizeY/2
## Down
bind j:ctrl;alt;cmd move windowTopLeftX;screenOriginY+screenSizeY/2 screenSizeX/2;screenSizeY/2
## Left
bind h:ctrl;alt;cmd move screenOriginX;windowTopLeftY screenSizeX/2;screenSizeY/2
## Right
bind l:ctrl;alt;cmd move screenOriginX+screenSizeX/2;windowTopLeftY screenSizeX/2;screenSizeY/2
## Center
bind u:ctrl;alt;cmd move screenOriginX+500;screenOriginY screenSizeX/1.3;screenSizeY
#
##################################

##################################
### 3 horizontal layout for TV ###
##################################
#
## UP
bind k:ctrl;alt;shift;cmd move windowTopLeftX;screenOriginY screenSizeX/3;screenSizeY/2 ${screen-1}
## Down
bind j:ctrl;alt;shift;cmd move windowTopLeftX;screenOriginY+screenSizeY/2 screenSizeX/3;screenSizeY/2 ${screen-1}
## Left
bind h:ctrl;alt;shift;cmd move windowTopLeftX-screenSizeX/3;windowTopLeftY screenSizeX/3;screenSizeY/2 ${screen-1}
## Right
bind l:ctrl;alt;shift;cmd move windowTopLeftX+screenSizeX/3;windowTopLeftY screenSizeX/3;screenSizeY/2 ${screen-1}
#
##################################

bind m:ctrl;alt;cmd move screenOriginX;screenOriginY+screenSizeY/2 screenSizeX/2;screenSizeY/2 ${screen-1}
bind down:ctrl;alt;cmd push down  bar-resize:screenSizeY/2

# Nudge Bindings
# NOTE: some of these may *not* work if you have not removed the expose/spaces/mission control bindings
bind right:ctrl;alt nudge +10% +0
bind left:ctrl;alt  nudge -10% +0
bind up:ctrl;alt    nudge +0   -10%
bind down:ctrl;alt  nudge +0   +10%

# Throw Bindings
# NOTE: some of these may *not* work if you have not removed the expose/spaces/mission control bindings
bind pad1:ctrl;alt;cmd      throw 2 resize
bind ;:ctrl;alt;cmd         throw next
bind pad2:ctrl;alt      throw 1 resize
bind pad3:ctrl;alt      throw 0 resize
bind right:ctrl;alt;cmd throw right resize
bind left:ctrl;alt;cmd  throw left  resize
bind up:ctrl;alt;cmd    throw up    resize
bind down:ctrl;alt;cmd  throw down  resize

# Focus Bindings
# NOTE: some of these may *not* work if you have not removed the expose/spaces/mission control bindings
bind right:cmd    focus right
bind left:cmd     focus left
bind up:cmd       focus up
bind down:cmd     focus down
bind up:cmd;alt   focus behind
bind down:cmd;alt focus behind

# Layout Bindings
#bind 1:ctrl;alt;cmd    layout 1monitor
#bind 2:ctrl;alt;cmd    layout 2monitors
#get script from https://gist.github.com/lsaffie/bebd920d4ed632a3af643db5d21c4141
bind 1:ctrl;alt;cmd    sequence shell wait path:~/dotfiles '/usr/bin/osascript set-all-chrome-windows-to-first.scpt' | layout 3monitors
bind 2:ctrl;alt;cmd    sequence shell wait path:~/dotfiles '/usr/bin/osascript set-all-chrome-windows-to-first.scpt' | layout 2monitors
bind 3:ctrl;alt;cmd    sequence shell wait path:~/dotfiles '/usr/bin/osascript set-all-chrome-windows-to-first.scpt' | layout tv

# Window Hints
bind esc:cmd hint

# Switch currently doesn't work well so I'm commenting it out until I fix it.
#bind tab:ctrl switch

# Grid
bind esc:ctrl grid

# Reload .slate file
bind 1:ctrl relaunch

# Test Cases
source .slate.test if_exists
